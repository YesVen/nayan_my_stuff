package serialization;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class TestSerializingVolatile {

	public static void main (String a[]) {
		
		TestSerializingVolatile test = new TestSerializingVolatile();
		test.seriableObj(new RacingCar1(200, 300, "1800cc"));
		test.deSerializeObj();
	}
	
	public void seriableObj (RacingCar1 car) {
		try (FileOutputStream fo = new FileOutputStream("C:/objsStore/superCar.ser");
			ObjectOutputStream oo = new ObjectOutputStream(fo);
			) {
			oo.writeObject(car);
		} catch (IOException e) {
			e.printStackTrace();
		} 
	}
	
	public void deSerializeObj () {
		try (FileInputStream fi = new FileInputStream("/objsStore/superCar.ser");
			ObjectInputStream oi = new ObjectInputStream(fi)) {
			RacingCar car = (RacingCar)oi.readObject();
			System.out.println(car.toString());
		}
		catch (IOException | ClassNotFoundException e) {
			e.printStackTrace();
		}
	}
}


class RacingCar1 implements Serializable {
	private static final long serialVersionUID = 1L;
	int maxSpeed;
	int maxAcceleratoin;
	String engineCapacity = "";
	
	RacingCar1 (int maxSpeed, int maxAcceleratoin, String engineCapacity) {
		this.maxSpeed = maxSpeed;
		this.maxAcceleratoin = maxAcceleratoin;
		this.engineCapacity = engineCapacity;
	}
	
	public String toString () {
		return maxAcceleratoin + " -- " + maxSpeed + "--" + engineCapacity;
	}
	
	
}